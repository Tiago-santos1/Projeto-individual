<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link rel="stylesheet" href="style/login.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />


</head>

<body>
    <div class="container-pai">
        <header>
            <div class="container">
                <a href="index1.html"><img src="img/logo.png" alt="logo_Porto" /></a>
                <ul class="navbar">
                    <li><a href="index1.html">Voltar para a página inicial</a></li>

                </ul>
            </div>
        </header>
        <div class="main">
            <div class="container">

                <h3>LOGIN</h3>
                <div class="campos">
                    <div class="dados">
                        <div class="caixa_input">
                            <h3>Usuário:</h3>
                            <input type="text" id="input_usuario" />
                        </div>

                        <div class="caixaInput">
                            <h3>Senha:</h3>
                            <input type="password" id="input_senha" />
                        </div>
                    </div>
                </div>
                <div class="div_button">
                    <button onclick="logar()">Logar</button>
                    <p id="div_mensagem"></p>
                    <a href="tela-de-cadastro.html"><label for="">Cadastro</label></a>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
<script>
    // vetor de um usuario já registrado
    usuarioRegistrado = ["beetech@sptech.school", "Beetech#2025"];
    // dentro do vetor [0-1]
    //[0] usuario/email
    //[1] senha

    contTentativas = 3;

    function logar() {
        var usuario = input_usuario.value;
        var senha = input_senha.value;

        if (contTentativas > 0) {

            if (usuarioRegistrado.includes(usuario)) {
                if (usuarioRegistrado[1] == senha) {
                    div_mensagem.innerHTML = `<b style="color:green">Login realizado com sucesso!</b>`;
                    window.location.href = "dashboardGeral.html";
                } else {
                    contTentativas--;
                    if (contTentativas > 0) {
                        div_mensagem.innerHTML = `<b style="color:red">Senha inválida, tentativa(s) restante(s): ${contTentativas}</b>`;
                    } else {
                        div_mensagem.innerHTML = `<b style="color:red">Senha inválida, login bloqueado!</b>`;
                    }
                }
            } else {
                div_mensagem.innerHTML = `<b style="color:red">Usuário inválido.</b>`;
            }
        } else {
            div_mensagem.innerHTML = `<b style="color:red">Login bloqueado!</b>`;
        }
    }
</script>